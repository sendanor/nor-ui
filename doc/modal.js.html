<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modal.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: modal.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/* Modal Implementation */
if (typeof define !== 'function') {
    var define = require('amdefine')(module);
}
define(["jquery"], function($) {
	"use strict";

	var $modal = {};

	/** Enable or disable dismiss layer behind a modal */
	$modal.dismiss = function(modal){
		if($modal._dismiss) {
			$($modal._dismiss).remove();
			delete $modal._dismiss;
		} else {
			var div = $('&lt;div id="modal-dismiss" />');
			$(div).click(function() {
				$modal.dismiss();
				if (modal) {
					$(modal).hide(); 
				}
			});
			$('body').append(div);
			$modal._dismiss = div;
		}
	};

	/* Initialize a link */
	$modal.initLink = function(link) {
		$(link).click(function() {
			var href = $(link).attr('href');
			$(href).show();
			$modal.dismiss(href);
			return false; // Returns false so the link does not do anything.
		});
	};
	
	/* Initialize a modal */
	$modal.initModal = function(modal) {
		
		/* Setup links to close modals */
		$(modal).find("[data-dismiss='modal']").each(function() {
			var link = this;
			$(link).click(function() {
				var href = $(link).attr('href') || '#';
				if(href === '#') {
					$(modal).hide();
				} else {
					$(href).hide();
				}
				$modal.dismiss();
				return false; // Returns false so the link does not do anything.
			});
		});
	};

	/* Initialize links and modals */
	$modal.init = function(obj) {

		/* Setup links to open modals */
		$(obj).find("[data-toggle='modal']").each(function() {
			$modal.initLink(this);
		});

		/* Setup modals */
		$(obj).find(".modal").each(function() {
			$modal.initModal(this);
		});

	};
	
	/** Dynamically create a modal 
	*@method create
	*/
	$modal.create = function(obj) {
		var div = $('&lt;div class="modal" />');
		if(obj) {
			div.append($(obj));
		}
		div.hide();
		$modal.initModal(div);
		$('body').append(div);
		return div;
	};

	/** Open a modal 
	*@method open
	*/
	$modal.open = function(obj) {
		var div = $(obj);
		div.show();
		$modal.dismiss(div);
		return div;
	};

	/** Close a modal 
	*@method close
	*/
	$modal.close = function(div) {
		div = $(div);
		div.hide();
		$modal.dismiss(div);
		return div;
	};

	/** Delete a modal 
	*@method del
	*/
	$modal.del = function(div) {
		div = $(div);
		$modal.close(div);
		$(div).remove();
		return div;
	};

	/* Initialize stuff after page is loaded */
	$(function () {
		$modal.init(this);
	});

	// End of library code
	return $modal;
});
/* EOF */
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Global</h3><ul><li><a href="global.html#close">close</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#del">del</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initForm">initForm</a></li><li><a href="global.html#open">open</a></li><li><a href="global.html#populate_defaults">populate_defaults</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a> on Fri Jun 28 2013 17:20:53 GMT+0300 (EEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
